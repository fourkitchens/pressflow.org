!function(a){Drupal.googleanalytics={},a(document).ready(function(){a(document.body).bind("mousedown keyup touchstart",function(t){a(t.target).closest("a,area").each(function(){Drupal.googleanalytics.isInternal(this.href)?a(this).is(".colorbox")&&Drupal.settings.googleanalytics.trackColorbox||(Drupal.settings.googleanalytics.trackDownload&&Drupal.googleanalytics.isDownload(this.href)?ga("send",{hitType:"event",eventCategory:"Downloads",eventAction:Drupal.googleanalytics.getDownloadExtension(this.href).toUpperCase(),eventLabel:Drupal.googleanalytics.getPageUrl(this.href),transport:"beacon"}):Drupal.googleanalytics.isInternalSpecial(this.href)&&ga("send",{hitType:"pageview",page:Drupal.googleanalytics.getPageUrl(this.href),transport:"beacon"})):Drupal.settings.googleanalytics.trackMailto&&a(this).is("a[href^='mailto:'],area[href^='mailto:']")?ga("send",{hitType:"event",eventCategory:"Mails",eventAction:"Click",eventLabel:this.href.substring(7),transport:"beacon"}):Drupal.settings.googleanalytics.trackOutbound&&this.href.match(/^\w+:\/\//i)&&(2!==Drupal.settings.googleanalytics.trackDomainMode||2===Drupal.settings.googleanalytics.trackDomainMode&&!Drupal.googleanalytics.isCrossDomain(this.hostname,Drupal.settings.googleanalytics.trackCrossDomains))&&ga("send",{hitType:"event",eventCategory:"Outbound links",eventAction:"Click",eventLabel:this.href,transport:"beacon"})})}),Drupal.settings.googleanalytics.trackUrlFragments&&(window.onhashchange=function(){ga("send",{hitType:"pageview",page:location.pathname+location.search+location.hash})}),Drupal.settings.googleanalytics.trackColorbox&&a(document).bind("cbox_complete",function(){var t=a.colorbox.element().attr("href");t&&ga("send",{hitType:"pageview",page:Drupal.googleanalytics.getPageUrl(t)})})}),Drupal.googleanalytics.isCrossDomain=function(t,e){return e&&a.inArray(t,e)>-1?!0:!1},Drupal.googleanalytics.isDownload=function(a){var t=new RegExp("\\.("+Drupal.settings.googleanalytics.trackDownloadExtensions+")([?#].*)?$","i");return t.test(a)},Drupal.googleanalytics.isInternal=function(a){var t=new RegExp("^(https?)://"+window.location.host,"i");return t.test(a)},Drupal.googleanalytics.isInternalSpecial=function(a){var t=new RegExp("(/go/.*)$","i");return t.test(a)},Drupal.googleanalytics.getPageUrl=function(a){var t=new RegExp("^(https?)://"+window.location.host,"i");return a.replace(t,"")},Drupal.googleanalytics.getDownloadExtension=function(a){var t=new RegExp("\\.("+Drupal.settings.googleanalytics.trackDownloadExtensions+")([?#].*)?$","i"),e=t.exec(a);return null===e?"":e[1]}}(jQuery);